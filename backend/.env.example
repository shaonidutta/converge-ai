# ============================================
# ConvergeAI Backend Environment Variables
# ============================================
# Copy this file to .env and fill in your actual values

# ============================================
# Application Settings
# ============================================
APP_NAME=ConvergeAI
APP_VERSION=1.0.0
ENVIRONMENT=development  # development, staging, production
DEBUG=True
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL

# ============================================
# Server Configuration
# ============================================
HOST=0.0.0.0
PORT=8000
WORKERS=4
RELOAD=True  # Set to False in production

# ============================================
# Database Configuration (MySQL)
# ============================================
DB_HOST=localhost
DB_PORT=3306
DB_USER=convergeai_user
DB_PASSWORD=your_secure_password_here
DB_NAME=convergeai_db
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600
DB_ECHO=False  # Set to True for SQL query logging

# ============================================
# Redis Configuration
# ============================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_MAX_CONNECTIONS=50
REDIS_SOCKET_TIMEOUT=5
REDIS_SOCKET_CONNECT_TIMEOUT=5

# ============================================
# JWT Configuration
# ============================================
JWT_SECRET_KEY=your_super_secret_jwt_key_change_this_in_production
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# ============================================
# Security Settings
# ============================================
SECRET_KEY=your_super_secret_key_change_this_in_production
ALLOWED_HOSTS=localhost,127.0.0.1
CORS_ORIGINS=http://localhost:3000,http://localhost:3001
CORS_ALLOW_CREDENTIALS=True
CORS_ALLOW_METHODS=GET,POST,PUT,PATCH,DELETE,OPTIONS
CORS_ALLOW_HEADERS=*

# ============================================
# Rate Limiting
# ============================================
RATE_LIMIT_ENABLED=True
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000
RATE_LIMIT_AUTH_PER_MINUTE=5

# ============================================
# Pinecone Configuration
# ============================================
PINECONE_API_KEY=your_pinecone_api_key_here
PINECONE_ENVIRONMENT=us-east-1-aws  # or your preferred region
PINECONE_INDEX_NAME=convergeai-documents
PINECONE_DIMENSION=768  # For Google text-embedding-004
PINECONE_METRIC=cosine
PINECONE_CLOUD=aws
PINECONE_REGION=us-east-1

# ============================================
# Google Generative AI (Gemini) Configuration
# ============================================
GOOGLE_API_KEY=your_google_api_key_here
GEMINI_MODEL_FLASH_2=gemini-2.0-flash-exp
GEMINI_MODEL_FLASH_1_5=gemini-1.5-flash
GEMINI_MODEL_PRO_1_5=gemini-1.5-pro
GEMINI_DEFAULT_MODEL=gemini-2.0-flash-exp
GEMINI_MAX_TOKENS=8192
GEMINI_TEMPERATURE=0.7
GEMINI_TOP_P=0.95
GEMINI_TOP_K=40

# ============================================
# Embedding Model Configuration
# ============================================
EMBEDDING_MODEL=models/text-embedding-004
EMBEDDING_DIMENSION=768
EMBEDDING_BATCH_SIZE=100

# ============================================
# LangChain Configuration
# ============================================
LANGCHAIN_TRACING_V2=false
LANGCHAIN_ENDPOINT=https://api.smith.langchain.com
LANGCHAIN_API_KEY=your_langsmith_api_key_here
LANGCHAIN_PROJECT=convergeai

# ============================================
# Celery Configuration
# ============================================
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=json
CELERY_TIMEZONE=UTC
CELERY_ENABLE_UTC=True
CELERY_TASK_TRACK_STARTED=True
CELERY_TASK_TIME_LIMIT=300
CELERY_TASK_SOFT_TIME_LIMIT=240

# ============================================
# File Upload Configuration
# ============================================
MAX_UPLOAD_SIZE=10485760  # 10MB in bytes
ALLOWED_UPLOAD_EXTENSIONS=.pdf,.txt,.doc,.docx,.jpg,.jpeg,.png
UPLOAD_DIR=./data/uploads

# ============================================
# Cache Configuration
# ============================================
CACHE_TTL_DEFAULT=3600  # 1 hour
CACHE_TTL_SERVICE_CATALOG=86400  # 24 hours
CACHE_TTL_RATE_CARDS=43200  # 12 hours
CACHE_TTL_EMBEDDINGS=604800  # 7 days
CACHE_TTL_LLM_RESPONSES=1800  # 30 minutes

# ============================================
# Email Configuration
# ============================================
# SMTP Configuration (Traditional)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
EMAIL_USERNAME=
EMAIL_PASSWORD=

# Resend API Configuration (Modern - Recommended)
OUTREACH_EMAIL_ENABLED=true
RESEND_API_KEY=
OUTREACH_FROM=
OUTREACH_MAX_CONTACTS=1

# ============================================
# SMS Configuration (Optional)
# ============================================
SMS_PROVIDER=twilio  # twilio, aws_sns, etc.
TWILIO_ACCOUNT_SID=your_twilio_account_sid
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_PHONE_NUMBER=+1234567890

# ============================================
# Monitoring & Observability
# ============================================
ENABLE_METRICS=True
METRICS_PORT=9090
ENABLE_TRACING=False
JAEGER_HOST=localhost
JAEGER_PORT=6831

# ============================================
# Feature Flags
# ============================================
ENABLE_CHAT_STREAMING=True
ENABLE_VOICE_MESSAGES=False
ENABLE_SEMANTIC_CACHE=True
ENABLE_SQL_AGENT=True
ENABLE_ANALYTICS_AGENT=True

# ============================================
# Agent Configuration
# ============================================
AGENT_TIMEOUT=30
AGENT_MAX_RETRIES=3
AGENT_RETRY_DELAY=1

# ============================================
# NLP Configuration
# ============================================
SENTIMENT_MODEL=distilbert-base-uncased-finetuned-sst-2-english
SENTIMENT_CACHE_ENABLED=True
INTENT_CONFIDENCE_THRESHOLD=0.7

# ============================================
# Booking Configuration
# ============================================
BOOKING_CANCELLATION_HOURS=24
BOOKING_REMINDER_HOURS=24,2

# ============================================
# Complaint Configuration
# ============================================
COMPLAINT_SLA_HOURS=48
COMPLAINT_ESCALATION_HOURS=24
COMPLAINT_PRIORITY_THRESHOLD=0.8

# ============================================
# Development Tools
# ============================================
ENABLE_SWAGGER=True
ENABLE_REDOC=True
ENABLE_DEBUG_TOOLBAR=False

